## 使用 tauri 对应用进行打包

Ubuntu 系统：

更新 sudo 命令

```bash
sudo apt update
# 安装一系列库
sudo apt install libwebkit2gtk-4.0-dev \
    build-essential \
    curl \
    wget \
    file \
    libssl-dev \
    libgtk-3-dev \
    libayatana-appindicator3-dev \
    librsvg2-dev
```

安装 node

```bash
# installs nvm (Node Version Manager)
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash

# download and install Node.js (you may need to restart the terminal)
nvm install 20

# verifies the right Node.js version is in the environment
node -v # should print `v20.14.0`

# verifies the right NPM version is in the environment
npm -v # should print `10.7.0`
```



安装 rust

```bash
curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh
```

> 安装后记得重启终端

安装依赖

```bash
# 安装 rust 的 target 架构
rustup target add aarch64-unknown-linux-gnu
# 安装连接器
sudo apt install gcc-aarch64-linux-gnu

```

在项目中添加一个 `<project-root>/.cargo/config.toml` 添加以下内容

```toml
[target.armv7-unknown-linux-gnueabihf]
linker = "arm-linux-gnueabihf-gcc"

[target.aarch64-unknown-linux-gnu]
linker = "aarch64-linux-gnu-gcc"
```

添加各自的内容

```bash
sudo dpkg --add-architecture arm64
```

向 `/etc/apt/sources.list` 文件中追加以下内容，如果是 Debian，则可以忽略该步骤。

```
deb [arch=armhf,arm64] http://ports.ubuntu.com/ubuntu-ports jammy main restricted
deb [arch=armhf,arm64] http://ports.ubuntu.com/ubuntu-ports jammy-updates main restricted
deb [arch=armhf,arm64] http://ports.ubuntu.com/ubuntu-ports jammy universe
deb [arch=armhf,arm64] http://ports.ubuntu.com/ubuntu-ports jammy-updates universe
deb [arch=armhf,arm64] http://ports.ubuntu.com/ubuntu-ports jammy multiverse
deb [arch=armhf,arm64] http://ports.ubuntu.com/ubuntu-ports jammy-updates multiverse
deb [arch=armhf,arm64] http://ports.ubuntu.com/ubuntu-ports jammy-backports main restricted universe multiverse
deb [arch=armhf,arm64] http://ports.ubuntu.com/ubuntu-ports jammy-security main restricted
deb [arch=armhf,arm64] http://ports.ubuntu.com/ubuntu-ports jammy-security universe
deb [arch=armhf,arm64] http://ports.ubuntu.com/ubuntu-ports jammy-security multiverse
```

依次执行以下命令

```bash
sudo apt-get update && sudo apt-get upgrade -y

sudo apt install libwebkit2gtk-4.0-dev:arm64

sudo apt install libssl-dev:arm64

export PKG_CONFIG_SYSROOT_DIR=/usr/aarch64-linux-gnu/
```

最后进行打包操作

```bash
# 使用 cargo 进行打包
cargo tauri build --target aarch64-unknown-linux-gnu
# 使用 pnpm 进行打包
pnpm tauri build
```















