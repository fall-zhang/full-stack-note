## 数据库操作



go 中，根据字母大小写开头来决定是否是导出模块

看懂 go 的类型文档

有没有类似于 Object.assign 相关可以合并数组的方法？

常用 utils

使用 gorm 批量插入数据

- [x] 实现 get、post 请求
  - [x] 简单的数据请求，能走通
  - [x] 获取不同的字段，param、body、form
- [ ] 实现对数据库的 CRUD
  - [x] 简单数据模型
  - [x] 批量添加数据
  - [ ] 复杂数据，比如嵌套以及引用
- [x] 实现文件上传
  - [x] 读取文件内容进行数据的批量上传

如何 log，输出 object

### 连接数据库

连接数据库并对 ID 行查询

```go
package main
import (
	"database/sql"
  "fmt"
  _ "github.com/lib/pq"
)
func getUsername(userId int)(string, error){
  // 连接数据库
  db, err := sql.Open("postgres", "postgresql://username:password@localhost/mydb?sslmode=disable")
  if err != nil {
    return "", fmt.Errorf("failed to connect database: %w", err)
  }
  defer db.Close()
  // 进行查询
  var username string
  err = db.QueryRow("Select username From users WHERE id = $1", userId).Scan(&username)
  if err != nil {
    return "", fmt.Errorf("failed to get username: %w", err)
  }
  return username, nil
}
```

